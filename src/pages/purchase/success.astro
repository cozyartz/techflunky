---
import Layout from '../../layouts/Layout.astro';

// Get session ID from URL params
const sessionId = Astro.url.searchParams.get('session_id');
---

<Layout title="Purchase Successful - TechFlunky">
  <main class="min-h-screen bg-gray-50 flex items-center justify-center">
    <div class="max-w-2xl mx-auto p-8">
      <div class="bg-white rounded-lg shadow-lg p-8 text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
          </svg>
        </div>
        
        <h1 class="text-3xl font-bold mb-4">Purchase Successful!</h1>
        
        <p class="text-gray-600 mb-8">
          Thank you for your purchase. Your payment is being processed and held in escrow.
        </p>

        <div class="bg-blue-50 rounded-lg p-6 mb-8 text-left">
          <h2 class="font-semibold text-lg mb-3">What happens next?</h2>
          <div class="space-y-3 text-sm text-gray-700">
            <div class="flex gap-3">
              <span class="text-blue-600">1.</span>
              <p>You'll receive an email with download links for all business package materials within 15 minutes.</p>
            </div>
            <div class="flex gap-3">
              <span class="text-blue-600">2.</span>
              <p>You have 3 days to review all materials and confirm they match the listing description.</p>
            </div>
            <div class="flex gap-3">
              <span class="text-blue-600">3.</span>
              <p>Once you confirm receipt, payment will be released to the seller (minus our 15% platform fee).</p>
            </div>
            <div class="flex gap-3">
              <span class="text-blue-600">4.</span>
              <p>If there are any issues, contact support@techflunky.com within the review period.</p>
            </div>
          </div>
        </div>

        <div class="space-y-3">
          <a href="/dashboard" class="block w-full bg-indigo-900 text-white py-3 px-6 rounded-lg font-semibold hover:bg-indigo-800 transition">
            Go to Dashboard
          </a>
          <a href="/browse" class="block w-full border border-gray-300 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-50 transition">
            Browse More Ideas
          </a>
        </div>

        <div class="mt-8 pt-8 border-t">
          <p class="text-xs text-gray-500">
            Transaction ID: {sessionId}<br />
            TechFlunky is operated by Autimind, Inc. All rights reserved.
          </p>
        </div>
      </div>
    </div>
  </main>

  <script>
    // In production, this would trigger the document delivery process
    console.log('Transaction completed:', '{sessionId}');
  </script>
</Layout>
